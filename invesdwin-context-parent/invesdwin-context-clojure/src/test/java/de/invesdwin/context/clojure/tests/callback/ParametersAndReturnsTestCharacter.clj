(defmacro defined [& var]
    `(try 
        (or 
            (boolean (resolve ~@var)) 
            (not (nil? (eval ~@var)))
        ) (catch Exception e# false)
    )
)

(println "getCharacter")
(if (defined 'getCharacter)
	(throw (Exception. "getCharacter already defined!"))
)
(def getCharacter (callback "getCharacter"))
(def getCharacterType (class getCharacter))
(println getCharacterType)
(println getCharacter)
(if-not (= getCharacterType Character)
	(throw (Exception. "getCharacter not Character"))
)
(callback "setCharacter" getCharacter)

(println "getCharacterVector")
(if (defined 'getCharacterVector)
	(throw (Exception. "getCharacterVector already defined!"))
)
(def getCharacterVector (callback "getCharacterVector"))
(def getCharacterVectorType (class (get getCharacterVector 0)))
(println getCharacterVectorType)
(println getCharacterVector)
(if-not (= getCharacterVectorType Character)
	(throw (Exception. "getCharacterVector not Character"))
)
(callback "setCharacterVector" getCharacterVector)

(println "getCharacterVectorAsList")
(if (defined 'getCharacterVectorAsList)
	(throw (Exception. "getCharacterVectorAsList already defined!"))
)
(def getCharacterVectorAsList (callback "getCharacterVectorAsList"))
(def getCharacterVectorAsListType (class (get getCharacterVectorAsList 0)))
(println getCharacterVectorAsListType)
(println getCharacterVectorAsList)
(if-not (= getCharacterVectorAsListType Character)
	(throw (Exception. "getCharacterVectorAsList not Character"))
)
(callback "setCharacterVectorAsList" getCharacterVectorAsList)

(println "getCharacterMatrix")
(if (defined 'getCharacterMatrix)
	(throw (Exception. "getCharacterMatrix already defined!"))
)
(def getCharacterMatrix (callback "getCharacterMatrix"))
(def getCharacterMatrixType (class (get (get getCharacterMatrix 0) 0)))
(println getCharacterMatrixType)
(println getCharacterMatrix)
(if-not (= getCharacterMatrixType Character)
	(throw (Exception. "getCharacterMatrix not Character"))
)
(callback "setCharacterMatrix" getCharacterMatrix)

(println "getCharacterMatrixAsList")
(if (defined 'getCharacterMatrixAsList)
	(throw (Exception. "getCharacterMatrixAsList already defined!"))
)
(def getCharacterMatrixAsList (callback "getCharacterMatrixAsList"))
(def getCharacterMatrixAsListType (class (get (get getCharacterMatrixAsList 0) 0)))
(println getCharacterMatrixAsListType)
(println getCharacterMatrixAsList)
(if-not (= getCharacterMatrixAsListType Character)
	(throw (Exception. "getCharacterMatrixAsList not Character"))
)
(callback "setCharacterMatrixAsList" getCharacterMatrixAsList)
